#include <bits/stdc++.h>
 using i64 = long long;
 void solve() {
    int q;
    std::cin >> q;
        i64 lo = 1, hi = 1E18;
        while (q--) {
        int t;
        std::cin >> t;
                if (t == 1) {
            int a, b, n;
            std::cin >> a >> b >> n;
                        i64 x, y;
            if (n == 1) {
                x = 1;
                y = a;
            } else {
                x = 1LL * a * (n - 1) - 1LL * b * (n - 2) + 1;
                y = 1LL * a * n - 1LL * b * (n - 1);
            }
            if (x <= hi && lo <= y) {
                lo = std::max(lo, x);
                hi = std::min(hi, y);
                std::cout << 1 << " ";
            } else {
                std::cout << 0 << " ";
            }
        } else {
            int a, b;
            std::cin >> a >> b;
                        i64 t1 = lo <= a ? 1LL : (lo - b + a - b - 1) / (a - b);
            i64 t2 = hi <= a ? 1LL : (hi - b + a - b - 1) / (a - b);
                        if (t1 == t2) {
                std::cout << t1 << " ";
            } else {
                std::cout << -1 << " ";
            }
        }
    }
    std::cout << "\n";
}
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int t;
    std::cin >> t;
        while (t--) {
        solve();
    }
        return 0;
}