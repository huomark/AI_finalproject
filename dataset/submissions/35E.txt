#include <bits/stdc++.h>
 using i64 = long long;
    #ifdef ONLINE_JUDGE
    std::ifstream fin("input.txt");
    std::ofstream fout("output.txt");
#else
    #define fin std::cin
    #define fout std::cout
#endif
 int main() {
        int n;
    fin >> n;
        std::vector<std::array<int, 3>> a;
    for (int i = 0; i < n; i++) {
        int h, l, r;
        fin >> h >> l >> r;
        a.push_back({l, 1, h});
        a.push_back({r, -1, h});
    }
        std::sort(a.begin(), a.end());
        std::multiset<int> s{0};
    std::vector<std::pair<int, int>> ans;
    for (int i = 0, j = 0; i < 2 * n; i = j) {
        while (j < 2 * n && a[i][0] == a[j][0]) {
            if (a[j][1] == 1) {
                s.insert(a[j][2]);
            } else {
                s.extract(a[j][2]);
            }
            j++;
        }
        int H = *s.rbegin();
        if (ans.empty()) {
            ans.emplace_back(a[i][0], 0);
            ans.emplace_back(a[i][0], H);
        } else {
            if (ans.back().second == ans.end()[-2].second) {
                ans.back().first = a[i][0];
            } else {
                ans.emplace_back(a[i][0], ans.back().second);
            }
            if (ans.back().second != H) {
                ans.emplace_back(a[i][0], H);
            }
        }
    }
        fout << ans.size() << "\n";
    for (auto [x, y] : ans) {
        fout << x << " " << y << "\n";
    }
        return 0;
}