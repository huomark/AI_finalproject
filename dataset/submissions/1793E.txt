#include <bits/stdc++.h>
 using i64 = long long;
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int n;
    std::cin >> n;
        std::vector<int> a(n);
    for (int i = 0; i < n; i++) {
        std::cin >> a[i];
    }
        std::sort(a.begin(), a.end());
        std::vector<int> dp(n + 1), pre(n + 1);
    for (int i = 1; i <= n; i++) {
        if (a[i - 1] <= i) {
            dp[i] = 1 + pre[i - a[i - 1]];
        } else {
            dp[i] = 1 - a[i - 1] + i;
        }
        pre[i] = std::max(pre[i - 1], dp[i]);
    }
        std::vector<int> ans(n + 1);
    for (int i = 1; i <= n; i++) {
        if (dp[i] + n - i > 0) {
            ans[dp[i] + n - i] = i;
        }
    }
        for (int i = n - 1; i >= 0; i--) {
        ans[i] = std::max(ans[i], ans[i + 1]);
    }
        int q;
    std::cin >> q;
        for (int i = 0; i < q; i++) {
        int k;
        std::cin >> k;
                std::cout << ans[k] << "\n";
    }
        return 0;
}