#include <bits/stdc++.h>
 using i64 = long long;
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int n, m, k;
    std::cin >> n >> m >> k;
        std::vector<std::array<int, 3>> edges(m);
    for (int i = 0; i < m; i++) {
        int u, v, l;
        std::cin >> u >> v >> l;
        u--, v--;
        edges[i] = {u, v, l};
    }
        std::vector<bool> stor(n);
    for (int i = 0; i < k; i++) {
        int a;
        std::cin >> a;
        a--;
        stor[a] = true;
    }
        int ans = -1;
    for (auto [u, v, l] : edges) {
        if (stor[u] != stor[v] && (ans == -1 || l < ans)) {
            ans = l;
        }
    }
    std::cout << ans << "\n";
        return 0;
}