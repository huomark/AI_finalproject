#include <bits/stdc++.h>
 using i64 = long long;
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int L, b, f;
    std::cin >> L >> b >> f;
        std::set<std::pair<int, int>> s;
    s.emplace(-b, -b);
    s.emplace(L + f, L + f);
        int n;
    std::cin >> n;
        std::vector<std::pair<int, int>> a(n);
        for (int i = 0; i < n; i++) {
        int t, x;
        std::cin >> t >> x;
        if (t == 1) {
            int p = -1;
            for (auto it = std::next(s.begin()); it != s.end(); it++) {
                if (it->first - std::prev(it)->second >= b + x + f) {
                    p = std::prev(it)->second + b;
                    break;
                }
            }
            if (p != -1) {
                s.emplace(p, p + x);
                a[i] = {p, p + x};
            }
            std::cout << p << "\n";
        } else {
            x--;
            s.erase(a[x]);
        }
    }
        return 0;
}