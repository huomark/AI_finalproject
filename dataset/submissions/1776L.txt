#include <bits/stdc++.h>
 using i64 = long long;
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int n;
    std::cin >> n;
        std::string s;
    std::cin >> s;
        int plus = std::count(s.begin(), s.end(), '+');
    int minus = n - plus;
        if (plus > minus) {
        std::swap(plus, minus);
    }
        int q;
    std::cin >> q;
        for (int i = 0; i < q; i++) {
        int a, b;
        std::cin >> a >> b;
                int g = std::gcd(a, b);
        a /= g, b /= g;
                if (a > b) {
            std::swap(a, b);
        }
                if (a == b) {
            if (plus == minus) {
                std::cout << "YES\n";
            } else {
                std::cout << "NO\n";
            }
        } else if ((minus - plus) % (b - a) != 0) {
            std::cout << "NO\n";
        } else {
            int k = (minus - plus) / (b - a);
            if (1LL * a * k <= plus) {
                std::cout << "YES\n";
            } else {
                std::cout << "NO\n";
            }
        }
    }
        return 0;
}