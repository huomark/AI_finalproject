#include <bits/stdc++.h>
 using i64 = long long;
using u64 = unsigned long long;
using u32 = unsigned;
using u128 = unsigned __int128;
 int query(int l, int r) {
    std::cout << "? " << l + 1 << " " << r << std::endl;
    int ans;
    std::cin >> ans;
    return ans;
}
 void solve() {
    int n;
    std::cin >> n;
        int a = query(0, n / 4) ^ query(n / 4, n / 2);
    int lo, hi;
    if (a == query(0, n / 2)) {
        lo = n / 2 + 1;
        hi = n - 1;
    } else {
        lo = 1;
        hi = n / 2;
    }
        while (lo < hi) {
        int x = (lo + hi) / 2;
        int ql, qr, e = (x > n / 2);
        if ((x <= n / 2) ^ a) {
            ql = 0;
            qr = x;
        } else {
            ql = n - x;
            qr = n;
        }
        e ^= query(ql, qr);
        if (e) {
            hi = x;
        } else {
            lo = x + 1;
        }
    }
        std::cout << "! " << lo << std::endl;
}
 int main() {
    std::ios::sync_with_stdio(false);
    std::cin.tie(nullptr);
        int t;
    std::cin >> t;
        while (t--) {
        solve();
    }
        return 0;
}